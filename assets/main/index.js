System.register("chunks:///_virtual/MainCamera.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,r,i,s,u,c,a,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,u=t._decorator,c=t.math,a=t.geometry,o=t.Component}],execute:function(){var h,l,g,f,p;s._RF.push({},"21ecbTtEJlDl4l95vj6zzhO","MainCamera",void 0);var M=u.ccclass,A=u.property,I=c.Vec3;t("MainCamera",M("MainCamera")((p=f=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return e=t.call.apply(t,[this].concat(s))||this,r(e,"autoRotate",g,i(e)),e.focusedList=[],e.startTime=0,e.targetDistance=0,e.targetAngle=0,e.targetFocus=new c.Vec3(0,0,0),e.currentDistance=5,e.currentAngle=90,e.currentHeight=5,e.currentFocus=new c.Vec3(0,0,0),e.pullrate=.02,e}n(e,t);var s=e.prototype;return s.start=function(){},s.distance=function(t,e){return t.clone().subtract(e).length()},s.getChildByName=function(t){var e=this.node;return null==e||null==e.parent?null:e.parent.getChildByName(t)},s.focus=function(){this.focusedList=[];for(var t=0;t<arguments.length;t++){var e=t<0||arguments.length<=t?void 0:arguments[t];null!=e&&(e instanceof Array?this.focusedList=this.focusedList.concat(e):this.focusedList.push(e))}this.startTime=(new Date).getTime()},s.getHeightByDistance=function(t){var n=(t-e.DISTANCE_MIN)/(e.DISTANCE_MAX-e.DISTANCE_MIN);return e.HEIGHT_MIN+(e.HEIGHT_MAX-e.HEIGHT_MIN)*n},s.getDistanceByFocus=function(){for(var t=null,n=null,r=null,i=null,s=0;s<this.focusedList.length;s++){var u=this.focusedList[s];if(null!=u){var a=null!=u.position?u.position.x:u.x,o=null!=u.position?u.position.z:u.z;(null==t||a<t)&&(t=a),(null==n||a>n)&&(n=a),(null==r||o<r)&&(r=o),(null==i||o>i)&&(i=o)}}var h=(0==this.focusedList.length?0:new c.Vec2(t,r).subtract(new c.Vec2(n,i)).length())/3.4;return e.DISTANCE_MIN+(e.DISTANCE_MAX-e.DISTANCE_MIN)*h},s.normalAngle=function(t){return(t%=2*Math.PI)<0&&(t+=2*Math.PI),t},s.easeOut=function(t){return-(Math.pow(t-1,2)-1)},s.easeInOut=function(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2},s.vectorAngle=function(t,e){var n=t.x*e.z-e.x*t.z,r=t.x*e.x+t.z*e.z;return Math.atan2(n,r)},s.pullclose=function(){var t=this.pullrate;this.currentAngle=this.currentAngle+(this.targetAngle-this.currentAngle)*t,this.currentDistance=this.currentDistance+(this.targetDistance-this.currentDistance)*t,this.currentFocus.x=this.currentFocus.x+(this.targetFocus.x-this.currentFocus.x)*t,this.currentFocus.y=this.currentFocus.y+(this.targetFocus.y-this.currentFocus.y)*t,this.currentFocus.z=this.currentFocus.z+(this.targetFocus.z-this.currentFocus.z)*t},s.getTargetFocus=function(){for(var t=0,e=0,n=0;n<this.focusedList.length;n++){var r=this.focusedList[n];r instanceof c.Vec3?(t+=r.x,e+=r.z):(t+=r.position.x,e+=r.position.z)}return 0==this.focusedList.length?new I(0,0,0):new I(t/this.focusedList.length,0/this.focusedList.length,e/this.focusedList.length)},s.update=function(t){var e=new I(0,0,0),n=this.targetAngle;this.focusedList.length>0?(e=this.getTargetFocus(),this.autoRotate&&(this.targetAngle=180*this.vectorAngle(new I(0,0,-1),e)/Math.PI)):this.autoRotate&&(this.targetAngle=90),this.targetFocus=e,this.targetDistance=this.getDistanceByFocus();var r=(n-this.currentAngle)%360;r>180&&(this.currentAngle=n+(360-r)),r<-180&&(this.currentAngle=n-(360+r)),this.pullclose(),this.currentHeight=this.getHeightByDistance(this.currentDistance);var i=this.currentHeight,s=this.currentDistance,u=this.currentFocus,o=this.currentAngle*Math.PI/180,h=-Math.asin(i/s),l=new c.Vec3(-1,0,0),g=(new c.Mat4).rotate(o,new c.Vec3(0,1,0)),f=(new c.Mat4).rotate(h,new c.Vec3(0,0,1)),p=new c.Mat4;g&&p.multiply(g),f&&p.multiply(f),l.transformMat4(p).normalize();var M=a.Ray.create(u.x,u.y,u.z,l.x,l.y,l.z),A=new c.Vec3;M.computeHit(A,s),this.node.position=A;var d=new c.Quat,v=180*h/Math.PI,y=270+180*o/Math.PI;c.Quat.fromEuler(d,v,y,0),this.node.rotation=d},e}(o),f.DISTANCE_MIN=2.4,f.DISTANCE_MAX=5,f.HEIGHT_MIN=1,f.HEIGHT_MAX=5,g=e((l=p).prototype,"autoRotate",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),h=l))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/GuideLine.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./MathUtil.ts"],(function(t){"use strict";var i,e,n,a,l,o,s,r,c,h,u,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,s=t.Node,r=t.math,c=t.geometry,h=t.PhysicsSystem,u=t.Component},function(t){f=t.MathUtil}],execute:function(){var m,p,g,d,y,B,V,w,M,R,v;l._RF.push({},"46df1jqX+JN44C7T/ZR7oiO","GuideLine",void 0);var x=o.ccclass,z=o.property,P=function(){this.mainBallPositionOnHit=new r.Vec3(0,0,0),this.mainBallPositionDistanceOnHit=0,this.mainBallReflectVector=new r.Vec3(0,0,0),this.targetReflectVector=new r.Vec3(0,0,0),this.node=null};t("GuideLine",(m=x("GuideLine"),p=z({type:s,displayName:"主球"}),g=z({type:[s],displayName:"其他球"}),d=z({type:Boolean,displayName:"正确目标"}),y=z({type:Number,displayName:"角度"}),m((w=i((V=function(t){function i(){for(var i,e=arguments.length,l=new Array(e),o=0;o<e;o++)l[o]=arguments[o];return i=t.call.apply(t,[this].concat(l))||this,n(i,"mainBall",w,a(i)),n(i,"otherBalls",M,a(i)),n(i,"correct",R,a(i)),n(i,"angle",v,a(i)),i.hitInfo=null,i.line0=null,i.line1=null,i.line2=null,i.ball=null,i.ballRadius=.0384,i}e(i,t);var l=i.prototype;return l.setAngleByVector=function(t){var i=f.angleVec2(new r.Vec2(t.x,t.z),new r.Vec2(-1,0));this.angle=180*i/Math.PI},l.start=function(){},l.updateLine0=function(){if(null==this.line0&&(this.line0=this.node.getChildByName("line-0")),null!=this.line0&&null!=this.mainBall)if(null!=this.hitInfo){this.line0.active=!0,this.line0.position=this.mainBall.position;var t;t=this.hitInfo.mainBallPositionOnHit.clone().subtract(this.mainBall.position).length(),this.line0.setScale(new r.Vec3(t,1,1)),r.Quat.fromEuler(this.line0.rotation,0,this.angle,0);var i=this.line0.getChildByName("guideline-model-true"),e=this.line0.getChildByName("guideline-model-false");i&&(i.active=this.correct),e&&(e.active=!this.correct)}else this.line0.active=!1},l.updateLine1=function(){if(null==this.line1&&(this.line1=this.node.getChildByName("line-1")),null!=this.line1)if(null!=this.hitInfo){this.line1.active=!0,this.line1.position=this.hitInfo.mainBallPositionOnHit,this.line1.setScale(new r.Vec3(.2,1,1));var t=f.angleVec2(new r.Vec2(this.hitInfo.mainBallReflectVector.x,this.hitInfo.mainBallReflectVector.z),new r.Vec2(-1,0));r.Quat.fromEuler(this.line1.rotation,0,180*t/Math.PI,0);var i=this.line1.getChildByName("guideline-model-true"),e=this.line1.getChildByName("guideline-model-false");i&&(i.active=this.correct),e&&(e.active=!this.correct)}else this.line1.active=!1},l.updateLine2=function(){if(null==this.line2&&(this.line2=this.node.getChildByName("line-2")),null!=this.line2)if(null!=this.hitInfo)if(null!=this.hitInfo.targetReflectVector){this.line2.active=!0,this.line2.position=this.hitInfo.mainBallPositionOnHit,this.line2.setScale(new r.Vec3(.2,1,1));var t=f.angleVec2(new r.Vec2(this.hitInfo.targetReflectVector.x,this.hitInfo.targetReflectVector.z),new r.Vec2(-1,0));r.Quat.fromEuler(this.line2.rotation,0,180*t/Math.PI,0);var i=this.line2.getChildByName("guideline-model-true"),e=this.line2.getChildByName("guideline-model-false");i&&(i.active=this.correct),e&&(e.active=!this.correct)}else this.line2.active=!1;else this.line2.active=!1},l.updateBall=function(){if(null==this.ball&&(this.ball=this.node.getChildByName("ball")),null!=this.mainBall&&null!=this.ball)if(null!=this.hitInfo){this.ball.active=!0;var t=this.hitInfo.mainBallPositionOnHit.clone();t.subtract(this.mainBall.position);var i=new c.Ray(this.mainBall.position.x,this.mainBall.position.y,this.mainBall.position.z,t.x,t.y,t.z),e=new r.Vec3;i.computeHit(e,t.length()),this.ball.position=e}else this.ball.active=!1},l.angleRadius=function(){return this.angle*Math.PI/180},l.upVector=function(){return new r.Vec3(0,1,0)},l.getMainBallLeftOrigin=function(){var t=new r.Vec3(-this.ballRadius,0,0);return t.transformMat4(r.Mat4.fromTranslation(new r.Mat4,this.mainBall.position).rotate(this.angleRadius()+Math.PI/2,this.upVector())),t},l.getMainBallRightOrigin=function(){var t=new r.Vec3(-this.ballRadius,0,0);return t.transformMat4(r.Mat4.fromTranslation(new r.Mat4,this.mainBall.position).rotate(this.angleRadius()-Math.PI/2,this.upVector())),t},l.getMainBallCenterOrigin=function(){var t=new r.Vec3(-this.ballRadius,0,0);return t.transformMat4(r.Mat4.fromTranslation(new r.Mat4,this.mainBall.position).rotate(this.angleRadius(),this.upVector())),t},l.getRayDirection=function(){var t=new r.Vec3(-1,0,0);return t.transformMat4((new r.Mat4).rotate(this.angleRadius(),this.upVector())),t},l.getMainBallLeftRay=function(){var t=this.getRayDirection(),i=this.getMainBallLeftOrigin();return new c.Ray(i.x,i.y,i.z,t.x,t.y,t.z)},l.getMainBallRay=function(){var t=this.getRayDirection(),i=this.getMainBallCenterOrigin();return new c.Ray(i.x,i.y,i.z,t.x,t.y,t.z)},l.getMainBallRightRay=function(){var t=this.getRayDirection(),i=this.getMainBallRightOrigin();return new c.Ray(i.x,i.y,i.z,t.x,t.y,t.z)},l.rayCast=function(t){return h.instance.raycastClosest(t)?h.instance.raycastClosestResult:null},l.computeHitInfo=function(t,i){if(void 0===i&&(i=null),null==this.mainBall||null==t)return null;if(t.collider.node.name.startsWith("ball")){var e=t.collider.node.position,n=this.getMainBallRay(),a=new r.Vec3;n.computeHit(a,1);var l=new r.Vec3(0,this.mainBall.position.y,0),o=f.getInsertPointBetweenCircleAndLine(this.mainBall.position.x,this.mainBall.position.z,a.x,a.z,e.x,e.z,2*this.ballRadius);if(o.length<1)return null;1==o.length&&(l.x=o[0].x,l.z=o[0].y),this.mainBall.position.clone().subtract(new r.Vec3(o[0].x,this.mainBall.position.y,o[0].y))<this.mainBall.position.clone().subtract(new r.Vec3(o[1].x,this.mainBall.position.y,o[1].y))?(l.x=o[0].x,l.z=o[0].y):(l.x=o[1].x,l.z=o[1].y);var s=f.angleVec2(new r.Vec2(l.x-e.x,l.z-e.z),new r.Vec2(-n.d.x,-n.d.z)),h=new r.Vec3(-n.d.x,-n.d.y,-n.d.z);h.transformMat4((new r.Mat4).rotate(2*s,this.upVector()));var u=new P;return u.mainBallPositionOnHit=l,u.mainBallPositionDistanceOnHit=l.clone().subtract(this.mainBall.position).length(),u.mainBallReflectVector=h,u.targetReflectVector=new r.Vec3(e.x-l.x,e.y-l.y,e.z-l.z),u.node=t.collider.node,u}if(i){var m=t.hitNormal.clone();m.transformMat4((new r.Mat4).rotate(-Math.PI/2,this.upVector()));var p=this.getRayDirection(),g=f.angleVec2(new r.Vec2(m.x,m.z),new r.Vec2(p.x,p.z))/2,d=this.ballRadius/Math.sin(g);(w=new r.Vec3(-p.x,-p.y,-p.z)).transformMat4((new r.Mat4).rotate(g,this.upVector()));var y=new c.Ray(t.hitPoint.x,t.hitPoint.y,t.hitPoint.z,w.x,w.y,w.z),B=new r.Vec3;return y.computeHit(B,d),(M=new P).mainBallPositionOnHit=B,M.mainBallPositionDistanceOnHit=B.clone().subtract(this.mainBall.position).length(),M.mainBallReflectVector=t.hitNormal.clone().transformMat4((new r.Mat4).rotate(Math.PI/2-(Math.PI-2*g),this.upVector())),M.targetReflectVector=null,M.node=t.collider.node,M}var V=t.hitNormal.clone();V.transformMat4((new r.Mat4).rotate(Math.PI/2,this.upVector()));var w;p=this.getRayDirection(),g=f.angleVec2(new r.Vec2(V.x,V.z),new r.Vec2(p.x,p.z))/2,d=this.ballRadius/Math.sin(g);(w=new r.Vec3(-p.x,-p.y,-p.z)).transformMat4((new r.Mat4).rotate(-g,this.upVector()));var M;y=new c.Ray(t.hitPoint.x,t.hitPoint.y,t.hitPoint.z,w.x,w.y,w.z),B=new r.Vec3;return y.computeHit(B,d),(M=new P).mainBallPositionOnHit=B,M.mainBallPositionDistanceOnHit=B.clone().subtract(this.mainBall.position).length(),M.mainBallReflectVector=t.hitNormal.clone().transformMat4((new r.Mat4).rotate(-Math.PI/2+(Math.PI-2*g),this.upVector())),M.targetReflectVector=null,M.node=t.collider.node,M},l.updateHit=function(){if(null!=this.mainBall){var t=this.getMainBallLeftRay(),i=this.getMainBallRay(),e=this.getMainBallRightRay(),n=this.computeHitInfo(this.rayCast(t),!0),a=this.computeHitInfo(this.rayCast(i)),l=this.computeHitInfo(this.rayCast(e),!1),o=n;a&&(null==o||a.mainBallPositionDistanceOnHit<o.mainBallPositionDistanceOnHit)&&(o=a),l&&(null==o||l.mainBallPositionDistanceOnHit<o.mainBallPositionDistanceOnHit)&&(o=l),this.hitInfo=o}},l.update=function(t){this.updateHit(),this.updateLine0(),this.updateLine1(),this.updateLine2(),this.updateBall()},i}(u)).prototype,"mainBall",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(V.prototype,"otherBalls",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(V.prototype,"correct",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=i(V.prototype,"angle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=V))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/AdjustHitPointBall.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Scene3D.ts"],(function(t){"use strict";var n,e,o,i,r,s,c,l,a,u,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.Node,l=t.math,a=t.UITransformComponent,u=t.Component},function(t){d=t.Scene3D}],execute:function(){var h,p,y,f,g;r._RF.push({},"4913eq+2PRFb5zVXfoi8lID","AdjustHitPointBall",void 0);var m=s.ccclass,v=s.property;t("AdjustHitPointBall",(h=m("AdjustHitPointBall"),p=v(d),h((g=n((f=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,o(n,"scene3D",g,i(n)),n}e(n,t);var r=n.prototype;return r.start=function(){var t=this;this.node.on(c.EventType.TOUCH_MOVE,(function(n){t.onTouchMove(n)}))},r.reset=function(){this.node.getChildByName("point").position=new l.Vec3(0,0,0)},r.getHitPoint=function(){var t=this.node.getChildByName("point"),n=this.node.getComponent(a).width/2;return new l.Vec2(t.position.x/n,t.position.y/n)},r.onTouchMove=function(t){var n=t.getUILocation().y,e=this.node.worldPosition.y,o=t.getUILocation().x,i=this.node.worldPosition.x,r=new l.Vec2(o-i,n-e);r.length()>this.node.getComponent(a).width/2&&r.multiplyScalar(this.node.getComponent(a).width/(2*r.length())),this.node.getChildByName("point").position=new l.Vec3(r.x,r.y,0)},r.onClick=function(t,n,e){var o;n.length()>this.node.getComponent(a).width/2?null===(o=this.scene3D)||void 0===o||o.onCloseAdjustHitPointButtonClicked():this.node.getChildByName("point").position=new l.Vec3(n.x,n.y,0)},n}(u)).prototype,"scene3D",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelData.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(x){"use strict";var e,n,i;return{setters:[function(x){e=x.createClass},function(x){n=x.cclegacy,i=x.sys}],execute:function(){n._RF.push({},"55ce8P3AgdF1pcLHA3/Fxvq","LevelData",void 0);x("LevelData",function(){function x(){this._levels=[{star:0,lock:!1,balls:[{x:1,z:0,index:0},{x:0,z:.4,index:8}]},{star:0,lock:!0,balls:[{x:1,z:0,index:0},{x:0,z:.4,index:8},{x:0,z:-.4,index:7}]},{star:0,lock:!0,balls:[{x:0,z:0,index:0},{x:-1,z:.4,index:8},{x:1,z:-.4,index:7}]},{star:0,lock:!0,balls:[{x:0,z:0,index:0},{x:-1,z:.4,index:8},{x:1,z:-.4,index:7},{x:1,z:.4,index:6}]},{star:0,lock:!0,balls:[{x:0,z:0,index:0},{x:-1,z:.4,index:8},{x:1,z:-.4,index:7},{x:1,z:.4,index:6},{x:-1,z:-.4,index:5}]},{star:0,lock:!0,balls:[{x:0,z:0,index:0},{x:-1,z:.4,index:8},{x:1,z:-.4,index:7},{x:1,z:.4,index:6},{x:-1,z:-.4,index:5},{x:0,z:.4,index:4}]},{star:0,lock:!0,balls:[{x:0,z:0,index:0},{x:-1,z:.4,index:8},{x:1,z:-.4,index:7},{x:1,z:.4,index:6},{x:-1,z:-.4,index:5},{x:0,z:.4,index:4},{x:0,z:-.4,index:3},{x:-1,z:0,index:2}]},{star:0,lock:!0,balls:[{x:1,z:0,index:0},{x:-.4,z:0,index:1},{x:-.4,z:.08,index:2},{x:-.4,z:-.08,index:3}]},{star:0,lock:!0,balls:[{x:1,z:0,index:0},{x:-.4,z:0,index:1},{x:-.4,z:.08,index:2},{x:-.4,z:-.08,index:3},{x:1,z:-.4,index:4},{x:1,z:.4,index:5}]},{star:0,lock:!0,balls:[{x:1,z:0,index:0},{x:-.4,z:0,index:1},{x:-.4,z:.08,index:2},{x:-.4,z:-.08,index:3},{x:1,z:-.4,index:4},{x:1,z:.4,index:5},{x:0,z:-.4,index:6},{x:0,z:.4,index:7}]},{star:0,lock:!0,balls:[{x:1,z:0,index:0},{x:-.4,z:0,index:1},{x:-.4,z:.08,index:2},{x:-.4,z:-.08,index:3},{x:1,z:-.4,index:4},{x:1,z:.4,index:5},{x:0,z:-.4,index:6},{x:0,z:.4,index:7},{x:-1,z:.4,index:8}]},{star:0,lock:!0,balls:[{x:1,z:0,index:0},{x:-.4,z:0,index:1},{x:-.4,z:.08,index:2},{x:-.4,z:-.08,index:3},{x:1,z:-.4,index:4},{x:1,z:.4,index:5},{x:0,z:-.4,index:6},{x:0,z:.4,index:7},{x:-1,z:-.4,index:8}]},{star:0,lock:!0,balls:[{x:1,z:0,index:0},{x:-.6,z:0,index:1},{x:-.6693,z:-.04,index:2},{x:-.6693,z:.04,index:3}]},{star:0,lock:!0,balls:[{x:1,z:0,index:0},{x:-.6,z:0,index:1},{x:-.6693,z:-.04,index:2},{x:-.6693,z:.04,index:3},{x:-.7386,z:-.08,index:4},{x:-.7386,z:0,index:5},{x:-.7386,z:.08,index:6}]},{star:0,lock:!0,balls:[{x:1,z:0,index:0},{x:-.6,z:0,index:1},{x:-.6693,z:-.04,index:2},{x:-.6693,z:.04,index:3},{x:-.7386,z:-.08,index:4},{x:-.7386,z:0,index:5},{x:-.7386,z:.08,index:6},{x:-.8078,z:-.12,index:7},{x:-.8078,z:-.04,index:8},{x:-.8078,z:.04,index:9},{x:-.8078,z:.12,index:10}]},{star:0,lock:!0,balls:[{x:1,z:0,index:0},{x:-.6,z:0,index:1},{x:-.6693,z:-.04,index:2},{x:-.6693,z:.04,index:3},{x:-.7386,z:-.08,index:4},{x:-.7386,z:0,index:5},{x:-.7386,z:.08,index:6},{x:-.8078,z:-.12,index:7},{x:-.8078,z:-.04,index:8},{x:-.8078,z:.04,index:9},{x:-.8078,z:.12,index:10},{x:-.8771,z:-.16,index:11},{x:-.8771,z:-.08,index:12},{x:-.8771,z:0,index:13},{x:-.8771,z:.08,index:14},{x:-.8771,z:.16,index:15}]}],this.load()}var n=x.prototype;return n.load=function(){var x=i.localStorage.getItem("LevelData");if(null!=x&&""!=x){console.log(x);try{var e=JSON.parse(x);if(e)for(var n=0;n<this._levels.length;n++)if(n<e.length){var d=this._levels[n],z=e[n];d.lock=z.lock,d.star=z.star}}catch(x){console.error(x)}}},n.save=function(){i.localStorage.setItem("LevelData",JSON.stringify(this._levels))},n.getLevel=function(x){return x<this._levels.length?this._levels[x]:null},e(x,[{key:"levels",get:function(){return this._levels}}]),x}());n._RF.pop()}}}));

System.register("chunks:///_virtual/StrictPatch.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,o,a,c,r,s,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,c=t._decorator,r=t.physics,s=t.math,l=t.Component}],execute:function(){var h,p,u,y,f;a._RF.push({},"57e03QSP2xG0LpXh/OCB5Zh","StrictPatch",void 0);var d=c.ccclass,v=c.property;t("StrictPatch",(h=d("StrictPatch"),p=v(Boolean),h((f=i((y=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return i=t.call.apply(t,[this].concat(a))||this,e(i,"patchEnable",f,o(i)),i.patchRay=null,i}n(i,t);var a=i.prototype;return a.start=function(){var t=this.getComponent(r.Collider);t&&t.on("onCollisionEnter",this.onCollision,this)},a.onCollision=function(t){"desk-collison-plane"!=t.otherCollider.node.name&&(this.patchRay=null)},a.patch=function(t){this.patchRay=t},a.update=function(t){if(this.patchRay&&this.patchEnable){var i=this.node.position.clone().subtract(this.patchRay.o).length(),n=new s.Vec3;this.patchRay.computeHit(n,i),this.node.position=n}},i}(l)).prototype,"patchEnable",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=y))||u));a._RF.pop()}}}));

System.register("chunks:///_virtual/ResultLayer.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,c,n;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,c=e._decorator,n=e.Component}],execute:function(){var s;i._RF.push({},"58679b5UTJPRpELfPBmUTOi","ResultLayer",void 0);var o=c.ccclass;c.property,e("ResultLayer",o("ResultLayer")(s=function(e){function i(){return e.apply(this,arguments)||this}t(i,e);var c=i.prototype;return c.start=function(){},c.showSuccess=function(e){void 0===e&&(e=!0),this.node.active=!0,e?(this.node.getChildByName("succ").active=!0,this.node.getChildByName("failed").active=!1):(this.node.getChildByName("succ").active=!1,this.node.getChildByName("failed").active=!0)},c.onClicked=function(){this.node.active=!1},i}(n))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/LiController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Scene3D.ts"],(function(e){"use strict";var t,n,o,i,r,c,p,s,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,p=e.Node,s=e.UITransformComponent,u=e.Component},function(e){l=e.Scene3D}],execute:function(){var h,y,T,a,f;r._RF.push({},"9cbe3kuPIFN+ajx8IrzxuX/","LiController",void 0);var C=c.ccclass,v=c.property;e("LiController",(h=C("LiController"),y=v({type:l}),h((f=t((a=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,o(t,"scene3D",f,i(t)),t.li=0,t}n(t,e);var r=t.prototype;return r.start=function(){var e=this,t=this.node;t.on(p.EventType.TOUCH_START,(function(t){t.type=p.EventType.TOUCH_START,e.touch(t)}),this),t.on(p.EventType.TOUCH_MOVE,(function(t){t.type=p.EventType.TOUCH_MOVE,e.touch(t)}),this),t.on(p.EventType.TOUCH_END,(function(t){t.type=p.EventType.TOUCH_END,e.touch(t)}),this),t.on(p.EventType.TOUCH_CANCEL,(function(t){t.type=p.EventType.TOUCH_END,e.touch(t)}),this)},r.touch=function(e){if(e.type==p.EventType.TOUCH_START);else if(e.type==p.EventType.TOUCH_MOVE||e.type==p.EventType.TOUCH_END){var t,n=e.getUILocation().y,o=this.node.worldPosition.y,i=this.node.getComponent(s).height,r=this.node.getChildByName("li-mask").getComponent(s);if(r.height=-(n-(o+i/2)),r.height<=0)return;if(e.type==p.EventType.TOUCH_END)null===(t=this.scene3D)||void 0===t||t.fire(r.height/i),r.height=0}},t}(u)).prototype,"scene3D",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=a))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,o,i,a,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.createClass},function(t){i=t.cclegacy,a=t._decorator,s=t.RichText,c=t.Component}],execute:function(){var n,l,h,p,d,u;i._RF.push({},"9f5aazvwLBC2rk70gjmx3f1","Card",void 0);var y=a.ccclass,v=a.property;t("Card",(n=y("Card"),l=v(Boolean),h=v(Number),p=v(Number),n((e((u=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this)._locked=!1,e._level=1,e._star=1,e}r(e,t);var i=e.prototype;return i.onLoad=function(){this.updateUI()},i.updateUI=function(){var t=this.node.getChildByName("bgNormal"),e=this.node.getChildByName("bgLocked"),r=this.node.getChildByName("star0"),o=this.node.getChildByName("star1"),i=this.node.getChildByName("star2"),a=this.node.getChildByName("star0Gray"),c=this.node.getChildByName("star1Gray"),n=this.node.getChildByName("star2Gray");this.node.getComponentInChildren(s).string="<color=#ffffff>"+this.level+"</color>",t.active=!this.locked,e.active=this.locked,this.locked?(r.active=!1,a.active=!1,o.active=!1,c.active=!1,i.active=!1,n.active=!1):(r.active=this.star>0,a.active=this.star<1,o.active=this.star>1,c.active=this.star<2,i.active=this.star>2,n.active=this.star<3)},o(e,[{key:"locked",get:function(){return this._locked},set:function(t){this._locked=t,this.updateUI()}},{key:"level",get:function(){return this._level},set:function(t){this._level=t,this.updateUI()}},{key:"star",get:function(){return this._star},set:function(t){this._star=t,this.updateUI()}}]),e}(c)).prototype,"locked",[l],Object.getOwnPropertyDescriptor(u.prototype,"locked"),u.prototype),e(u.prototype,"level",[h],Object.getOwnPropertyDescriptor(u.prototype,"level"),u.prototype),e(u.prototype,"star",[p],Object.getOwnPropertyDescriptor(u.prototype,"star"),u.prototype),d=u))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"a1430knGANKcoQTz2qfUOLh","MathUtil",void 0);t("MathUtil",function(){function t(){}return t.angleVec2=function(t,n){var u=t.x*n.y-n.x*t.y,e=t.x*n.x+t.y*n.y;return Math.atan2(u,e)},t.getInsertPointBetweenCircleAndLine=function(n,u,e,r,a,i,c){var o=t.binaryEquationGetKB(n,u,e,r),s=o[0],h=o[1],f=1+s*s,q=2*s*(h-i)-2*a,y=a*a+(h-i)*(h-i)-c*c,p=[];return t.quadEquationGetX(f,q,y).forEach((function(t){var n=s*t+h;p.push({x:t,y:n})})),p},t.binaryEquationGetKB=function(t,n,u,e){return[(n-e)/(t-u),(t*e-u*n)/(t-u)]},t.quadEquationGetX=function(t,n,u){var e=[],r=Math.pow(n,2)-4*t*u;return r>0?(e.push((-n+Math.sqrt(r))/(2*t)),e.push((-n-Math.sqrt(r))/(2*t))):0==r&&e.push(-n/(2*t)),e},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/OnClickListener.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,i,c,r,s,l,a,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){c=e.cclegacy,r=e._decorator,s=e.EventHandler,l=e.math,a=e.Node,h=e.UITransformComponent,u=e.Component}],execute:function(){var d,C,p,T,f,v,D;c._RF.push({},"a6e46xw3QlPS7Q6rRDlrVPP","OnClickListener",void 0);var g=r.ccclass,w=r.property;e("OnClickListener",(d=g("OnClickListener"),C=w({type:[s]}),d((D=v=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c))||this,o(t,"onClickListeners",f,i(t)),t.detectCanceled=!1,t.touchDownTime=0,t.touchDownPoint=new l.Vec2(0,0),t}n(t,e);var c=t.prototype;return c.start=function(){var e=this;this.node.on(a.EventType.TOUCH_START,(function(t){e.onTouchDown(t)})),this.node.on(a.EventType.TOUCH_MOVE,(function(t){e.onTouchMove(t)})),this.node.on(a.EventType.TOUCH_END,(function(t){e.onTouchUp(t)}))},c.onTouchDown=function(e){this.touchDownTime=(new Date).getTime(),this.touchDownPoint.x=e.getLocation().x,this.touchDownPoint.y=e.getLocation().y,this.detectCanceled=!1},c.onTouchMove=function(e){this.detectCanceled||this.checkCanceled(e)},c.checkCanceled=function(e){this.touchDownPoint.clone().subtract(e.getLocation()).length()>t.MAX_DISTANCE&&(this.detectCanceled=!0),(new Date).getTime()-this.touchDownTime>t.MAX_DURATION&&(this.detectCanceled=!0)},c.onTouchUp=function(e){if((this.checkCanceled(e),!this.detectCanceled)&&null!=this.node.getComponent(h)){var t=e.getUILocation().y,n=this.node.worldPosition.y,o=e.getUILocation().x,i=this.node.worldPosition.x;if(null!=this.onClickListeners)for(var c=0;c<this.onClickListeners.length;c++){var r,s=this.onClickListeners[c];if(s)s.emit([this.node,new l.Vec2(o-i,t-n),e]),console.log("OnClickListener: trigger click event from "+this.node.name+" to "+(null===(r=s.target)||void 0===r?void 0:r.name))}}},t}(u),v.MAX_DURATION=500,v.MAX_DISTANCE=50,f=t((T=D).prototype,"onClickListeners",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=T))||p));c._RF.pop()}}}));

System.register("chunks:///_virtual/Ball.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,o,n,s,r,l,a,p,d,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,l=e.EventHandler,a=e.math,p=e.physics,d=e.MeshRenderer,c=e.Component}],execute:function(){var h,u,f,g,y,v,m;s._RF.push({},"b644agGMBBB2pAiQXR5K8AW","Ball",void 0);var C=r.ccclass,B=r.property;e("Ball",(h=C("Ball"),u=B([l]),f=B([l]),h((v=i((y=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return i=e.call.apply(e,[this].concat(s))||this,o(i,"dropListeners",v,n(i)),o(i,"sleepListeners",m,n(i)),i.dropNotified=!1,i.sleepNotified=!1,i}t(i,e);var s=i.prototype;return s.isSleeping=function(){var e=new a.Vec3;return this.node.getComponent(p.RigidBody).getLinearVelocity(e),0==e.x&&0==e.y&&0==e.z},s.start=function(){var e=this.getComponent(p.Collider);e&&e.on("onCollisionEnter",this.onCollision,this)},s.onCollision=function(e){},s.update=function(e){var i=this.node.getComponent(d);i.lightmapSettings.castShadow=this.node.position.y>0,i.shadowCastingMode=this.node.position.y>0?d.ShadowCastingMode.ON:d.ShadowCastingMode.OFF,this.node.position.y<0?this.dropNotified||(l.emitEvents(this.dropListeners,this),this.dropNotified=!0):this.dropNotified=!1,this.isSleeping()?this.sleepNotified||(l.emitEvents(this.sleepListeners,this),this.sleepNotified=!0):this.sleepNotified=!1},i}(c)).prototype,"dropListeners",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=i(y.prototype,"sleepListeners",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=y))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/Scene3D.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./MainCamera.ts","./MathUtil.ts","./GuideLine.ts","./Ball.ts","./Card.ts","./MenuLayer.ts","./LevelData.ts","./StrictPatch.ts","./ResultLayer.ts","./AdjustHitPointBall.ts"],(function(e){"use strict";var t,n,i,l,a,o,r,s,u,h,c,v,f,d,g,p,C,y,m,L,b,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,r=e.math,s=e.Node,u=e.Camera,h=e.physics,c=e.geometry,v=e.Component},function(e){f=e.MainCamera},function(e){d=e.MathUtil},function(e){g=e.GuideLine},function(e){p=e.Ball},function(e){C=e.Card},function(e){y=e.MenuLayer},function(e){m=e.LevelData},function(e){L=e.StrictPatch},function(e){b=e.ResultLayer},function(e){D=e.AdjustHitPointBall}],execute:function(){var S,B,M,R,w,T,x,H,N,P,I,A,G,_,z,E,O;a._RF.push({},"b94f1KxG3pL+oc2v4/C0XXe","Scene3D",void 0);var k=o.ccclass,V=o.property,U=(r.Vec2,r.Vec3);e("Scene3D",(S=k("Scene3D"),B=V(C),M=V({type:s}),R=V(y),w=V(b),T=V({type:s}),x=V({type:s}),H=V(s),S((I=t((P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).levelData=new m,i(t,"currentCard",I,l(t)),t.ballNodes=[],i(t,"eventLayer",A,l(t)),i(t,"menuLayer",G,l(t)),i(t,"resultLayer",_,l(t)),i(t,"ganController",z,l(t)),i(t,"hitPointController",E,l(t)),i(t,"adjustHitPointBall",O,l(t)),t.guideAngleStart=0,t.touchDownX=null,t.pixelSpeedRange=45,t.myTouch=!1,t.gameResultSucc=!1,t.fireCount=0,t.currentLevelData=null,t}n(t,e);var a=t.prototype;return a.onLoad=function(){for(var e=0;e<16;e++){var t=this.node.getChildByName("ball-"+e);this.ballNodes.push(t)}},a.start=function(){var e=this,t=this.eventLayer;null!=t&&(t.on(s.EventType.TOUCH_START,(function(t){t.type=s.EventType.TOUCH_START,e.touch(t)}),this),t.on(s.EventType.TOUCH_MOVE,(function(t){t.type=s.EventType.TOUCH_MOVE,e.touch(t)}),this),t.on(s.EventType.TOUCH_END,(function(t){t.type=s.EventType.TOUCH_END,e.touch(t)}),this),this.reset(),this.onShowMenuClicked())},a.getMainBall=function(){return this.ballNodes&&this.ballNodes.length>0?this.ballNodes[0]:null},a.onClicked=function(e,t,n){var i=this.getMainCameraController(),l=this.getComponentInChildren(g),a=this.rayCastToGround(n.getLocation());if(a){a.y=.04;var o=a.subtract(this.getMainBall().position);l.setAngleByVector(o),i.targetAngle=l.angle+180}},a.touch=function(e){var t=this.getMainCameraController(),n=this.getComponentInChildren(g);if(e.type==s.EventType.TOUCH_START){if(this.myTouch=!0,n.node.active=!0,t.autoRotate=!1,this.guideAngleStart=n.angle,this.touchDownX=e.getLocation().x,this.pixelSpeedRange=45,n&&n.hitInfo&&n.hitInfo.node&&n.hitInfo.node.name.startsWith("ball")){var i=n.hitInfo.mainBallPositionOnHit.subtract(this.getMainBall().position).length();this.pixelSpeedRange=.4*this.pixelSpeedRange/i}}else if(this.myTouch){if(n.node.active)if(e.type==s.EventType.TOUCH_END)this.touchDownX=null;else if(null!=this.touchDownX){var l=e.getLocation().x,a=(e.getLocation().y,cc.view.getCanvasSize()),o=this.guideAngleStart-this.pixelSpeedRange*(l-this.touchDownX)/a.width;n.angle=o,t.targetAngle=o+180}e.type==s.EventType.TOUCH_END&&(this.myTouch=!1)}n.hitInfo?t.focus(this.getMainBall(),n.hitInfo.mainBallPositionOnHit):t.focus(this.getMainBall())},a.getMainCamera=function(){return this.node.getComponentInChildren(u)},a.getMainCameraController=function(){return this.node.getComponentInChildren(f)},a.rayCastToGround=function(e){var t=this.getMainCamera();if(null!=t){var n=t.screenPointToRay(e.x,e.y),i=n.d.length()*n.o.y/-n.d.y,l=new U;return n.computeHit(l,i),l}},a.setBall=function(e,t){var n=this.node.getChildByName(e);if(null!=n){var i=n.getComponent(h.RigidBody);null!=i&&(i.clearState(),n.position=t)}},a.clearBalls=function(){for(var e=0;e<this.ballNodes.length;e++)this.ballNodes[e].active=!1},a.getCurrentLevel=function(){for(var e=0;e<this.levelData.levels.length;e++)if(this.currentLevelData==this.levelData.levels[e])return e+1;return 1},a.reset=function(){if(null!=this.currentLevelData){this.clearBalls();for(var e=[],t=0;t<this.currentLevelData.balls.length;t++){var n=this.currentLevelData.balls[t];if(!(n.index>=this.ballNodes.length)){var i=this.ballNodes[n.index];i.active=!0,i.position=new r.Vec3(n.x,.04,n.z),e.push(i)}}var l=this.getMainCameraController();null!=l&&(l.autoRotate=!1,l.targetAngle=180,l.focus(e),this.resetGuideLine(),this.currentCard&&(this.currentCard.level=this.getCurrentLevel(),this.currentCard.star=this.currentLevelData.star),this.fireCount=0,this.gameResultSucc=null)}},a.fire=function(e){var t;void 0===e&&(e=1);var n=this.getComponentInChildren(g);null!=n&&null!=n.hitInfo&&null!=n.hitInfo.mainBallPositionOnHit&&(this.fireCount++,this._fire(n.hitInfo.mainBallPositionOnHit,.5+3*e,e),null!=n.hitInfo.node&&n.hitInfo.node.name.startsWith("ball")?this.getMainCameraController().focus([this.getMainBall(),n.hitInfo.node]):this.getMainCameraController().focus(this.getMainBall()),this.resetGuideLine(),null===(t=this.adjustHitPointBall)||void 0===t||t.getComponent(D).reset())},a.resetGuideLine=function(){var e=this.getGuideLine();null!=e&&(e.node.active=!1,e.hitInfo=null)},a._fire=function(e,t,n){var i;void 0===t&&(t=2);var l=this.getMainBall();if(null!=l){var a=new U(e);a.subtract(l.position).normalize().multiplyScalar(t);var o=l.getComponent(h.RigidBody);if(null!=o){a.y=0;var s=d.angleVec2(new r.Vec2(a.x,a.z),new r.Vec2(0,-1));o.setLinearVelocity(a);var u=new c.Ray(l.position.x,l.position.y,l.position.z,a.x,a.y,a.z);l.getComponent(L).patch(u);var v=null===(i=this.adjustHitPointBall.getComponent(D))||void 0===i?void 0:i.getHitPoint();if(v){var f=new r.Vec3(90*-v.x*n,0,200*v.y*n);f.transformMat4((new r.Mat4).rotate(s-Math.PI/2,new r.Vec3(0,1,0))),o.setAngularVelocity(f)}}}},a.getGuideLine=function(){return this.node.getComponentInChildren(g)},a.onAdjustHitPointButtonClicked=function(){this.hitPointController.active=!0},a.onCloseAdjustHitPointButtonClicked=function(){this.hitPointController.active=!1},a.onBallDroped=function(e){null==this.gameResultSucc&&(this.getMainCameraController().focus(this.getRemainBalls()),this.checkGameResult())},a.onBallSleeping=function(e){this.checkGameResult()},a.onShowMenuClicked=function(){null!=this.menuLayer&&(this.menuLayer.updateCards(this.levelData),this.menuLayer.node.active=!0)},a.getNextLevelData=function(){for(var e=0;e<this.levelData.levels.length;e++)if(this.currentLevelData==this.levelData.levels[e]&&e+1<this.levelData.levels.length)return this.levelData.levels[e+1];return null},a.onResultConfirmed=function(){if(this.gameResultSucc){var e=this.getNextLevelData();e?(this.currentLevelData=e,this.reset()):this.onShowMenuClicked()}else this.onShowMenuClicked()},a.updateGameData=function(){var e;this.currentLevelData.star=3-(this.fireCount-(null===(e=this.currentLevelData)||void 0===e?void 0:e.balls.length)+1);for(var t=0;t<this.levelData.levels.length;t++)this.currentLevelData==this.levelData.levels[t]&&t+1<this.levelData.levels.length&&(this.levelData.levels[t+1].lock=!1);this.levelData.save()},a.checkGameResult=function(){var e;if(null==this.gameResultSucc){var t=this.currentLevelData;if(null!=t&&0!=this.fireCount){var n,i;if(this.getMainBall().position.y<0)return this.gameResultSucc=!1,void(null===(n=this.resultLayer)||void 0===n||n.showSuccess(!1));for(var l,a=!0,o=0,r=0;r<t.balls.length;r++){0!=(s=t.balls[r]).index&&(this.ballNodes[s.index].position.y>0?a=!1:o++)}if(a)return this.gameResultSucc=!0,null===(l=this.resultLayer)||void 0===l||l.showSuccess(!0),void this.updateGameData();for(r=0;r<t.balls.length;r++){var s=t.balls[r];if(!this.ballNodes[s.index].getComponent(p).isSleeping()&&this.ballNodes[s.index].position.y>0)return}if(this.fireCount-o>=2)return this.gameResultSucc=!1,void(null===(i=this.resultLayer)||void 0===i||i.showSuccess(!1));if(!(o<t.balls.length)){for(r=0;r<t.balls.length;r++){var u;if(0!=(s=t.balls[r]).index)if(this.ballNodes[s.index].position.y>0)return this.gameResultSucc=!1,void(null===(u=this.resultLayer)||void 0===u||u.showSuccess(!1))}this.gameResultSucc=!0,null===(e=this.resultLayer)||void 0===e||e.showSuccess(!0)}}}},a.getRemainBalls=function(){if(null==this.currentLevelData)return[];for(var e=[],t=0;t<this.currentLevelData.balls.length;t++){var n=this.ballNodes[this.currentLevelData.balls[t].index];n.position.y>0&&e.push(n)}return e},a.onMenuLevelClicked=function(e){var t,n=null===(t=e.getComponent(C))||void 0===t?void 0:t.level;if(null!=n&&null!=this.menuLayer){var i=this.levelData.getLevel(n-1);null==i||i.lock||(this.currentLevelData=i,this.menuLayer.node.active=!1,this.reset())}},a.update=function(e){if(this.ganController){var t=this.getGuideLine();t&&(this.ganController.active=null!=t.hitInfo)}this.currentCard&&(this.currentCard.node.active=null==this.gameResultSucc)},t}(v)).prototype,"currentCard",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(P.prototype,"eventLayer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(P.prototype,"menuLayer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(P.prototype,"resultLayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(P.prototype,"ganController",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(P.prototype,"hitPointController",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(P.prototype,"adjustHitPointBall",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=P))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/MenuLayer.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Card.ts"],(function(e){"use strict";var t,r,n,a,o;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,a=e.Component},function(e){o=e.Card}],execute:function(){var s;r._RF.push({},"dfe80e9FitA7Im9IWiU7Gy3","MenuLayer",void 0);var c=n.ccclass;n.property,e("MenuLayer",c("MenuLayer")(s=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).cards=[],t}t(r,e);var n=r.prototype;return n.onLoad=function(){for(var e=this.node.getChildByName("Layout"),t=0;t<e.children.length;t++)this.cards.push(e.children[t].getComponent(o))},n.updateCards=function(e){for(var t=0;t<e.levels.length;t++){var r=e.levels[t];if(t<this.cards.length){var n=this.cards[t];n.star=r.star,n.locked=r.lock}}for(t=e.levels.length;t<this.cards.length;t++)this.cards[t].locked=!0},n.start=function(){},r}(a))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./MainCamera.ts","./MathUtil.ts","./GuideLine.ts","./Ball.ts","./Card.ts","./MenuLayer.ts","./LevelData.ts","./StrictPatch.ts","./ResultLayer.ts","./Scene3D.ts","./AdjustHitPointBall.ts","./LiController.ts","./OnClickListener.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});